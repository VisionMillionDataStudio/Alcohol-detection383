# æ˜¯å¦å«æœ‰é…’ç²¾æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€ç¤¾ä¼šç»æµçš„å‘å±•å’Œäººä»¬ç”Ÿæ´»æ°´å¹³çš„æé«˜ï¼Œé…’ç²¾æ¶ˆè´¹åœ¨å…¨çƒèŒƒå›´å†…é€æ¸å¢åŠ ï¼Œéšä¹‹è€Œæ¥çš„é…’åé©¾é©¶ã€é…—é…’ç­‰é—®é¢˜ä¹Ÿæ—¥ç›Šä¸¥é‡ã€‚è¿™ä¸ä»…å¯¹ä¸ªäººçš„å¥åº·æ„æˆå¨èƒï¼Œæ›´å¯¹å…¬å…±å®‰å…¨é€ æˆäº†æå¤§çš„éšæ‚£ã€‚å› æ­¤ï¼Œå¼€å‘é«˜æ•ˆã€å‡†ç¡®çš„é…’ç²¾æ£€æµ‹ç³»ç»Ÿæ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚ä¼ ç»Ÿçš„é…’ç²¾æ£€æµ‹æ–¹æ³•å¤šä¾èµ–äºäººå·¥æ“ä½œï¼Œå­˜åœ¨æ•ˆç‡ä½ã€è¯¯å·®å¤§ç­‰é—®é¢˜ï¼Œéš¾ä»¥æ»¡è¶³ç°ä»£ç¤¾ä¼šå¯¹å¿«é€Ÿã€å‡†ç¡®æ£€æµ‹çš„éœ€æ±‚ã€‚è¿‘å¹´æ¥ï¼Œè®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ä¸ºé…’ç²¾æ£€æµ‹æä¾›äº†æ–°çš„æ€è·¯ï¼Œå°¤å…¶æ˜¯åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œå±•ç°å‡ºäº†ä¼˜è¶Šçš„æ€§èƒ½ã€‚

YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—ç®—æ³•å› å…¶é«˜æ•ˆçš„å®æ—¶æ£€æµ‹èƒ½åŠ›è€Œå—åˆ°å¹¿æ³›å…³æ³¨ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿›ä¸€æ­¥æå‡äº†æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ï¼Œæˆä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„é‡è¦å·¥å…·ã€‚é€šè¿‡å¯¹YOLOv8çš„æ”¹è¿›ï¼Œå¯ä»¥æ›´å¥½åœ°é€‚åº”é…’ç²¾æ£€æµ‹çš„éœ€æ±‚ã€‚å…·ä½“è€Œè¨€ï¼Œæ”¹è¿›åçš„YOLOv8å¯ä»¥é€šè¿‡åˆ†æå›¾åƒä¸­çš„ç‰¹å¾ï¼Œå¿«é€Ÿåˆ¤æ–­ç‰©ä½“æ˜¯å¦å«æœ‰é…’ç²¾ï¼Œä»è€Œå®ç°å¯¹é…’ç²¾äº§å“çš„å®æ—¶ç›‘æµ‹å’Œè¯†åˆ«ã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«3000å¼ å›¾åƒï¼Œåˆ†ä¸ºâ€œå«é…’ç²¾â€å’Œâ€œä¸å«é…’ç²¾â€ä¸¤ä¸ªç±»åˆ«ã€‚è¿™ä¸€æ•°æ®é›†çš„æ„å»ºä¸ºæ¨¡å‹çš„è®­ç»ƒå’ŒéªŒè¯æä¾›äº†åŸºç¡€ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„æœ‰æ•ˆæ€§å’Œå¯é æ€§ã€‚é€šè¿‡å¯¹è¯¥æ•°æ®é›†çš„æ·±å…¥åˆ†æï¼Œå¯ä»¥æŒ–æ˜å‡ºé…’ç²¾ä¸éé…’ç²¾ç‰©å“åœ¨è§†è§‰ç‰¹å¾ä¸Šçš„å·®å¼‚ï¼Œä»è€Œä¸ºæ¨¡å‹çš„ä¼˜åŒ–æä¾›ä¾æ®ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†çš„è§„æ¨¡å’Œå¤šæ ·æ€§ä¹Ÿä¸ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å¥ å®šäº†åŸºç¡€ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨ä¸åŒåœºæ™¯ä¸‹ä¿æŒè¾ƒé«˜çš„æ£€æµ‹å‡†ç¡®ç‡ã€‚

ç ”ç©¶çš„æ„ä¹‰ä¸ä»…åœ¨äºæŠ€æœ¯å±‚é¢çš„åˆ›æ–°ï¼Œæ›´åœ¨äºå…¶å¯¹ç¤¾ä¼šçš„ç§¯æå½±å“ã€‚é€šè¿‡æ„å»ºåŸºäºæ”¹è¿›YOLOv8çš„é…’ç²¾æ£€æµ‹ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆé™ä½é…’åé©¾é©¶ç­‰è¿æ³•è¡Œä¸ºçš„å‘ç”Ÿç‡ï¼Œæå‡å…¬å…±å®‰å…¨ã€‚åŒæ—¶ï¼Œè¯¥ç³»ç»Ÿè¿˜å¯ä»¥åº”ç”¨äºå•†è¶…ã€é…’å§ç­‰åœºæ‰€ï¼Œå¸®åŠ©å•†å®¶å®æ—¶ç›‘æ§é…’ç²¾äº§å“çš„é”€å”®æƒ…å†µï¼Œé˜²æ­¢æœªæˆå¹´äººè´­ä¹°é…’ç²¾é¥®å“ï¼Œä¿ƒè¿›ç¤¾ä¼šçš„å¥åº·å‘å±•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„é…’ç²¾æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼ï¼Œæ›´å…·å¤‡å¹¿æ³›çš„ç¤¾ä¼šåº”ç”¨å‰æ™¯ã€‚é€šè¿‡æ·±å…¥æ¢è®¨è¿™ä¸€ä¸»é¢˜ï¼ŒæœŸæœ›èƒ½å¤Ÿä¸ºé…’ç²¾æ£€æµ‹æŠ€æœ¯çš„å‘å±•æä¾›æ–°çš„æ€è·¯å’Œæ–¹æ³•ï¼Œæ¨åŠ¨ç›¸å…³é¢†åŸŸçš„ç ”ç©¶è¿›å±•ï¼Œä¸ºæ„å»ºæ›´åŠ å®‰å…¨ã€å¥åº·çš„ç¤¾ä¼šè´¡çŒ®åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1Ec4ae2Eu4/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 2
names: ['alcohol', 'no-alcohol']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åä¸ºâ€œAlcohol detectionâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¯æŒå¯¹YOLOv8æ¨¡å‹çš„æ”¹è¿›ï¼Œç‰¹åˆ«æ˜¯åœ¨é…’ç²¾æ£€æµ‹ç³»ç»Ÿçš„è®­ç»ƒä¸è¯„ä¼°æ–¹é¢ã€‚è¯¥æ•°æ®é›†çš„è®¾è®¡æ—¨åœ¨æä¾›ä¸€ä¸ªé«˜æ•ˆä¸”å¯é çš„åŸºç¡€ï¼Œä»¥ä¾¿äºæ·±åº¦å­¦ä¹ æ¨¡å‹èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«å’Œåˆ†ç±»å«é…’ç²¾ä¸ä¸å«é…’ç²¾çš„ç‰©å“ã€‚æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸º2ï¼Œå…·ä½“ç±»åˆ«åŒ…æ‹¬â€œalcoholâ€å’Œâ€œno-alcoholâ€ï¼Œè¿™ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†æ¸…æ™°çš„ç›®æ ‡å’Œæ–¹å‘ã€‚

â€œAlcohol detectionâ€æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œç¡®ä¿äº†æ•°æ®çš„å¤šæ ·æ€§å’Œä»£è¡¨æ€§ã€‚æ•°æ®é›†ä¸­åŒ…å«äº†å¤§é‡çš„å›¾åƒæ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬æ¶µç›–äº†ä¸åŒç±»å‹çš„é…’ç²¾é¥®å“ä»¥åŠä¸ä¹‹ç›¸å¯¹çš„éé…’ç²¾é¥®å“ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ•°æ®é›†ä¸ä»…èƒ½å¤Ÿå¸®åŠ©æ¨¡å‹å­¦ä¹ åˆ°é…’ç²¾é¥®å“çš„ç‰¹å¾ï¼Œè¿˜èƒ½æœ‰æ•ˆåœ°å‡å°‘è¯¯åˆ¤çš„å¯èƒ½æ€§ï¼Œä»è€Œæé«˜æ¨¡å‹çš„æ•´ä½“å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

åœ¨æ•°æ®é‡‡é›†é˜¶æ®µï¼Œç ”ç©¶å›¢é˜Ÿå¹¿æ³›æ”¶é›†äº†å„ç§ç¯å¢ƒä¸‹çš„å›¾åƒï¼ŒåŒ…æ‹¬è¶…å¸‚è´§æ¶ã€é…’å§ã€å®¶åº­èšä¼šç­‰åœºæ™¯ã€‚è¿™äº›åœºæ™¯çš„å¤šæ ·æ€§ä½¿å¾—æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒçš„ç¯å¢ƒå’Œæ¡ä»¶ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†ä¸­çš„å›¾åƒç»è¿‡äº†ç²¾ç»†çš„æ ‡æ³¨ï¼Œç¡®ä¿æ¯ä¸ªæ ·æœ¬éƒ½å‡†ç¡®åœ°åæ˜ äº†å…¶æ‰€å±çš„ç±»åˆ«ã€‚è¿™ç§é«˜è´¨é‡çš„æ ‡æ³¨å·¥ä½œä¸ºåç»­çš„æ¨¡å‹è®­ç»ƒæä¾›äº†åšå®çš„åŸºç¡€ã€‚

ä¸ºäº†è¿›ä¸€æ­¥å¢å¼ºæ•°æ®é›†çš„æœ‰æ•ˆæ€§ï¼Œç ”ç©¶å›¢é˜Ÿè¿˜é‡‡ç”¨äº†æ•°æ®å¢å¼ºæŠ€æœ¯ã€‚é€šè¿‡å¯¹åŸå§‹å›¾åƒè¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€è£å‰ªå’Œé¢œè‰²è°ƒæ•´ç­‰æ“ä½œï¼Œç”Ÿæˆäº†å¤šæ ·åŒ–çš„è®­ç»ƒæ ·æœ¬ã€‚è¿™ä¸ä»…å¢åŠ äº†æ•°æ®é›†çš„è§„æ¨¡ï¼Œè¿˜æé«˜äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨é¢å¯¹æœªè§è¿‡çš„æ ·æœ¬æ—¶ä¾ç„¶ä¿æŒè‰¯å¥½çš„æ€§èƒ½ã€‚

åœ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒYOLOv8çš„æ”¹è¿›ä¸»è¦é›†ä¸­åœ¨ç‰¹å¾æå–å’Œåˆ†ç±»ç²¾åº¦çš„æå‡ä¸Šã€‚é€šè¿‡åˆ©ç”¨â€œAlcohol detectionâ€æ•°æ®é›†ï¼Œæ¨¡å‹èƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…å­¦ä¹ åˆ°é…’ç²¾ä¸éé…’ç²¾ç‰©å“çš„å…³é”®ç‰¹å¾ã€‚è¿™ä¸€è¿‡ç¨‹ä¸ä»…ä¾èµ–äºæ•°æ®é›†çš„ä¸°å¯Œæ€§ï¼Œè¿˜å¾—ç›ŠäºYOLOv8æœ¬èº«çš„é«˜æ•ˆæ¶æ„ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿåœ¨å®æ—¶æ£€æµ‹ä¸­å®ç°å¿«é€Ÿå“åº”ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†çš„è¯„ä¼°æœºåˆ¶ä¹Ÿååˆ†é‡è¦ã€‚é€šè¿‡åœ¨éªŒè¯é›†ä¸Šè¿›è¡Œä¸¥æ ¼çš„æµ‹è¯•ï¼Œç ”ç©¶å›¢é˜Ÿèƒ½å¤Ÿå®æ—¶ç›‘æ§æ¨¡å‹çš„æ€§èƒ½è¡¨ç°ï¼ŒåŠæ—¶è°ƒæ•´è®­ç»ƒç­–ç•¥ã€‚è¿™ç§åŠ¨æ€çš„åé¦ˆæœºåˆ¶ç¡®ä¿äº†æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒç»­ä¼˜åŒ–ï¼Œæœ€ç»ˆå®ç°äº†å¯¹é…’ç²¾æ£€æµ‹çš„é«˜å‡†ç¡®ç‡å’Œä½è¯¯æŠ¥ç‡ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œâ€œAlcohol detectionâ€æ•°æ®é›†ä¸ºæ”¹è¿›YOLOv8æ¨¡å‹åœ¨é…’ç²¾æ£€æµ‹ç³»ç»Ÿä¸­çš„åº”ç”¨æä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚é€šè¿‡é«˜è´¨é‡çš„æ ·æœ¬ã€å¤šæ ·åŒ–çš„åœºæ™¯ä»¥åŠæœ‰æ•ˆçš„æ•°æ®å¢å¼ºç­–ç•¥ï¼Œè¯¥æ•°æ®é›†ä¸ä»…æå‡äº†æ¨¡å‹çš„å­¦ä¹ æ•ˆç‡ï¼Œä¹Ÿä¸ºæœªæ¥çš„ç ”ç©¶å’Œåº”ç”¨å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæˆ‘ä»¬æœŸå¾…è¯¥æ•°æ®é›†èƒ½å¤Ÿåœ¨æ›´å¹¿æ³›çš„é¢†åŸŸä¸­å‘æŒ¥å…¶é‡è¦ä½œç”¨ï¼Œä¸ºé…’ç²¾æ£€æµ‹å’Œç›¸å…³ç ”ç©¶æä¾›æ›´å¤šçš„å¯èƒ½æ€§ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ï¼Œä½œä¸º2023å¹´1æœˆå‘å¸ƒçš„æœ€æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œæ ‡å¿—ç€è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„åˆä¸€æ¬¡é‡å¤§è¿›æ­¥ã€‚å®ƒåœ¨åˆ†ç±»ã€æ£€æµ‹å’Œåˆ†å‰²ä»»åŠ¡ä¸­å±•ç°å‡ºäº†å“è¶Šçš„æ€§èƒ½ï¼Œè¶…è¶Šäº†ä»¥å¾€æ‰€æœ‰å·²çŸ¥çš„æ¨¡å‹ã€‚YOLOv8ä¸ä»…åœ¨ç²¾åº¦ä¸Šå–å¾—äº†æ˜¾è‘—æå‡ï¼ŒåŒæ—¶åœ¨æ‰§è¡Œæ—¶é—´ä¸Šä¹Ÿå±•ç°å‡ºäº†ä¼˜è¶Šæ€§ï¼Œæˆä¸ºäº†YOLOç³»åˆ—ä¸­çš„æ–°ç‹è€…ã€‚è¯¥æ¨¡å‹åœ¨è®¾è®¡ä¸Šå¸å–äº†YOLOv5ã€YOLOv6ã€YOLOXç­‰å‰è¾ˆæ¨¡å‹çš„ä¼˜ç‚¹ï¼Œå°¤å…¶æ˜¯åœ¨æ¨¡å‹ç»“æ„çš„æ”¹è¿›ä¸Šï¼Œè¿›ä¸€æ­¥æå‡äº†YOLOv5çš„åŸºç¡€ï¼ŒåŒæ—¶ä¿æŒäº†å…¶å·¥ç¨‹åŒ–çš„ç®€æ´æ˜“ç”¨æ€§ã€‚

YOLOv8çš„æ ¸å¿ƒåˆ›æ–°åœ¨äºå…¶å…¨æ–°çš„éª¨å¹²ç½‘ç»œã€Anchor-Freeæ£€æµ‹å¤´ä»¥åŠä¼˜åŒ–çš„æŸå¤±å‡½æ•°ã€‚è¿™äº›åˆ›æ–°ä½¿å¾—YOLOv8èƒ½å¤Ÿåœ¨å¤šç§ç¡¬ä»¶å¹³å°ä¸Šé«˜æ•ˆè¿è¡Œï¼Œä»CPUåˆ°GPUå‡å¯å®ç°æµç•…çš„æ€§èƒ½ã€‚å…·ä½“è€Œè¨€ï¼ŒYOLOv8åœ¨å¤šä¸ªæ–¹é¢è¿›è¡Œäº†é‡è¦çš„æ”¹è¿›ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªå·ç§¯å±‚çš„å·ç§¯æ ¸ç”±6x6ç¼©å°è‡³3x3ï¼Œè¿™ä¸€å˜åŒ–æœ‰æ•ˆå‡å°‘äº†è®¡ç®—å¤æ‚åº¦ï¼Œå¹¶æå‡äº†ç‰¹å¾æå–çš„æ•ˆç‡ã€‚æ­¤å¤–ï¼Œæ‰€æœ‰çš„C3æ¨¡å—è¢«æ›¿æ¢ä¸ºC2fæ¨¡å—ï¼Œè¿™ä¸€æ¨¡å—é€šè¿‡å¢åŠ è·³å±‚è¿æ¥å’ŒSplitæ“ä½œï¼Œå¢å¼ºäº†ç‰¹å¾çš„æµåŠ¨æ€§ï¼Œè¿›è€Œæé«˜äº†æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›ã€‚

åœ¨Backboneç»“æ„æ–¹é¢ï¼ŒYOLOv8ä¾ç„¶é‡‡ç”¨äº†YOLOv5çš„CSPDarknetè®¾è®¡ç†å¿µï¼Œä½†åœ¨å…·ä½“å®ç°ä¸Šè¿›è¡Œäº†ä¼˜åŒ–ã€‚C2fæ¨¡å—çš„å¼•å…¥ï¼Œä¸ä»…æå‡äº†æ¨¡å‹çš„è½»é‡åŒ–ç‰¹æ€§ï¼Œè¿˜åœ¨ä¸ç‰ºç‰²æ£€æµ‹ç²¾åº¦çš„å‰æä¸‹ï¼Œå¢å¼ºäº†ç‰¹å¾æå–çš„èƒ½åŠ›ã€‚C2fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºYOLOv7çš„ELANæ€æƒ³ï¼Œé€šè¿‡å¼•å…¥å¤šä¸ªåˆ†æ”¯å’ŒBottleneckç»“æ„ï¼Œç¡®ä¿äº†ç‰¹å¾ä¿¡æ¯çš„ä¸°å¯Œæ€§å’Œæ¢¯åº¦æµçš„ç•…é€šã€‚è¿™ç§è®¾è®¡æœ‰æ•ˆåœ°ç¼“è§£äº†æ·±å±‚ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ›´åŠ ç¨³å®šã€‚

åœ¨ç‰¹å¾èåˆå±‚ï¼ŒYOLOv8é‡‡ç”¨äº†PAN-FPNç»“æ„ï¼Œèƒ½å¤Ÿå……åˆ†èåˆå¤šå°ºåº¦ä¿¡æ¯ã€‚è¿™ä¸€ç»“æ„çš„è®¾è®¡ä½¿å¾—æµ…å±‚ç‰¹å¾ã€ä¸­å±‚ç‰¹å¾å’Œé«˜å±‚ç‰¹å¾ä¹‹é—´çš„èåˆæ›´åŠ é«˜æ•ˆï¼Œè¿›è€Œæå‡äº†ç›®æ ‡æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„èåˆæ–¹å¼ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨é«˜å±‚ç‰¹å¾ä¸­å¼•å…¥ä¸­å±‚å’Œæµ…å±‚ç‰¹å¾çš„ä¿¡æ¯ï¼Œä»è€Œå¢å¼ºäº†å¯¹ç»†èŠ‚ä¿¡æ¯çš„æ•æ‰èƒ½åŠ›ã€‚

YOLOv8çš„æ£€æµ‹å¤´éƒ¨åˆ†æ˜¯å…¶æœ€æ˜¾è‘—çš„å˜åŒ–ä¹‹ä¸€ã€‚ä¼ ç»Ÿçš„Anchor-Basedæ£€æµ‹æ–¹æ³•è¢«Anchor-Freeçš„è®¾è®¡æ‰€å–ä»£ï¼Œè¿™ä¸€è½¬å˜ä¸ä»…ç®€åŒ–äº†æ¨¡å‹çš„ç»“æ„ï¼Œè¿˜æé«˜äº†ç›®æ ‡æ£€æµ‹çš„çµæ´»æ€§ã€‚YOLOv8çš„è§£è€¦å¤´ç»“æ„å°†åˆ†ç±»å’Œå›å½’åˆ†æ”¯åˆ†å¼€å¤„ç†ï¼Œåˆ©ç”¨Distribution Focal Losså’ŒCIoU Lossä½œä¸ºæŸå¤±å‡½æ•°ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨é¢å¯¹å°ç›®æ ‡å’Œå¤æ‚åœºæ™¯æ—¶çš„é«˜æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚

ä¸ºäº†è¿›ä¸€æ­¥æå‡æ¨¡å‹çš„æ€§èƒ½ï¼ŒYOLOv8åœ¨æ ·æœ¬åŒ¹é…ç­–ç•¥ä¸Šè¿›è¡Œäº†åˆ›æ–°ï¼Œå°†é™æ€åŒ¹é…æ”¹ä¸ºTask-Alignedçš„AssigneråŒ¹é…æ–¹å¼ã€‚è¿™ä¸€å˜åŒ–ä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒç±»å‹çš„ç›®æ ‡ï¼Œæé«˜äº†æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

åœ¨æ•°æ®é¢„å¤„ç†æ–¹é¢ï¼ŒYOLOv8å»¶ç»­äº†YOLOv5çš„ç­–ç•¥ï¼Œé‡‡ç”¨äº†å¤šç§æ•°æ®å¢å¼ºæ‰‹æ®µï¼Œå¦‚é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ã€‚è¿™äº›å¢å¼ºæ‰‹æ®µçš„å¼•å…¥ï¼Œä¸ä»…ä¸°å¯Œäº†è®­ç»ƒæ•°æ®çš„å¤šæ ·æ€§ï¼Œè¿˜æœ‰æ•ˆæå‡äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒYOLOv8é€šè¿‡å¯¹éª¨å¹²ç½‘ç»œã€ç‰¹å¾èåˆå±‚å’Œæ£€æµ‹å¤´çš„å…¨é¢æ”¹è¿›ï¼Œç»“åˆå…ˆè¿›çš„æŸå¤±å‡½æ•°å’Œæ•°æ®å¤„ç†ç­–ç•¥ï¼ŒæˆåŠŸåœ°æå‡äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé€Ÿåº¦ã€‚å®ƒä¸ä»…åœ¨ç†è®ºä¸Šä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸæä¾›äº†æ–°çš„æ€è·¯ï¼Œä¹Ÿåœ¨å®é™…åº”ç”¨ä¸­å±•ç°å‡ºäº†å¹¿æ³›çš„é€‚ç”¨æ€§å’Œä¼˜è¶Šçš„æ€§èƒ½ã€‚éšç€YOLOv8çš„æ¨å‡ºï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯å°†è¿æ¥æ–°çš„å‘å±•æœºé‡ï¼Œä¸ºå„ç±»åº”ç”¨åœºæ™¯æä¾›æ›´ä¸ºå¼ºå¤§çš„æ”¯æŒã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 ui.py

ä»¥ä¸‹æ˜¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¹¶æ·»åŠ äº†è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import sys  # å¯¼å…¥sysæ¨¡å—ï¼Œç”¨äºè®¿é—®ä¸Pythonè§£é‡Šå™¨ç´§å¯†ç›¸å…³çš„å˜é‡å’Œå‡½æ•°
import subprocess  # å¯¼å…¥subprocessæ¨¡å—ï¼Œç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨streamlitè¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆ
    result = subprocess.run(command, shell=True)
    
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º0ï¼Œè¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå‡è®¾è„šæœ¬åœ¨å½“å‰ç›®å½•ä¸‹

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç åˆ†æï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`æ¨¡å—ç”¨äºè·å–å½“å‰Pythonè§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `subprocess`æ¨¡å—ç”¨äºåœ¨Pythonä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **`run_script`å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªè„šæœ¬è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œå¹¶ä½¿ç”¨å½“å‰Pythonç¯å¢ƒè¿è¡Œè¯¥è„šæœ¬ã€‚
   - é€šè¿‡`sys.executable`è·å–å½“å‰Pythonè§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨`streamlit`æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨`subprocess.run`æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºå—**ï¼š
   - åœ¨ä¸»ç¨‹åºå—ä¸­ï¼ŒæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼ˆè¿™é‡Œå‡è®¾ä¸º`web.py`ï¼‰ã€‚
   - è°ƒç”¨`run_script`å‡½æ•°æ¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚ 

### æ³¨æ„äº‹é¡¹ï¼š
- è¯¥ä»£ç å‡è®¾`web.py`è„šæœ¬ä½äºå½“å‰å·¥ä½œç›®å½•ä¸­ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ ¹æ®æƒ…å†µè°ƒæ•´è·¯å¾„ã€‚
- `streamlit`éœ€è¦åœ¨å½“å‰Pythonç¯å¢ƒä¸­å®‰è£…å¹¶å¯ç”¨ã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ª Python è„šæœ¬ï¼Œä¸»è¦ç”¨äºè¿è¡Œä¸€ä¸ªåä¸º `web.py` çš„ Streamlit åº”ç”¨ã€‚é¦–å…ˆï¼Œæ–‡ä»¶å¼•å…¥äº†ä¸€äº›å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—åˆ†åˆ«ç”¨äºå¤„ç†ç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½ã€æ–‡ä»¶è·¯å¾„æ“ä½œå’Œæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

åœ¨ä»£ç çš„å¼€å¤´ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º `run_script` çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°å†…éƒ¨é¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä½¿ç”¨ `sys.executable` æ¥å®ç°ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ Streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™ä¸ªå‘½ä»¤çš„æ ¼å¼æ˜¯ `"{python_path}" -m streamlit run "{script_path}"`ï¼Œå…¶ä¸­ `python_path` æ˜¯å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œ`script_path` æ˜¯ä¼ å…¥çš„è„šæœ¬è·¯å¾„ã€‚

ç„¶åï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶è¿”å›ä¸€ä¸ªç»“æœå¯¹è±¡ã€‚é€šè¿‡æ£€æŸ¥ `result.returncode`ï¼Œå¯ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚å¦‚æœè¿”å›ç ä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ­¤æ—¶ä¼šæ‰“å°å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç ã€‚åœ¨è¿™é‡Œï¼Œé¦–å…ˆè°ƒç”¨ `abs_path` å‡½æ•°æ¥è·å– `web.py` çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ `script_path` å˜é‡ã€‚æœ€åï¼Œè°ƒç”¨ `run_script` å‡½æ•°æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªè„šæœ¬çš„åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ª Streamlit åº”ç”¨ï¼Œç¡®ä¿äº†åœ¨æ‰§è¡Œæ—¶èƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°å¹¶è¿è¡Œç›®æ ‡è„šæœ¬ã€‚

#### 11.2 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\fastsam\val.py

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

from ultralytics.models.yolo.segment import SegmentationValidator
from ultralytics.utils.metrics import SegmentMetrics

class FastSAMValidator(SegmentationValidator):
    """
    è‡ªå®šä¹‰éªŒè¯ç±»ï¼Œç”¨äºåœ¨Ultralytics YOLOæ¡†æ¶ä¸­è¿›è¡Œå¿«é€ŸSAMï¼ˆSegment Anything Modelï¼‰åˆ†å‰²ã€‚

    è¯¥ç±»æ‰©å±•äº†SegmentationValidatorç±»ï¼Œä¸“é—¨å®šåˆ¶äº†å¿«é€ŸSAMçš„éªŒè¯è¿‡ç¨‹ã€‚å®ƒå°†ä»»åŠ¡è®¾ç½®ä¸º'segment'ï¼Œ
    å¹¶ä½¿ç”¨SegmentMetricsè¿›è¡Œè¯„ä¼°ã€‚æ­¤å¤–ï¼Œä¸ºäº†é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œç¦ç”¨äº†ç»˜å›¾åŠŸèƒ½ã€‚
    """

    def __init__(self, dataloader=None, save_dir=None, pbar=None, args=None, _callbacks=None):
        """
        åˆå§‹åŒ–FastSAMValidatorç±»ï¼Œå°†ä»»åŠ¡è®¾ç½®ä¸º'segment'ï¼Œå¹¶å°†æŒ‡æ ‡è®¾ç½®ä¸ºSegmentMetricsã€‚

        å‚æ•°ï¼š
            dataloader (torch.utils.data.DataLoader): ç”¨äºéªŒè¯çš„æ•°æ®åŠ è½½å™¨ã€‚
            save_dir (Path, optional): ä¿å­˜ç»“æœçš„ç›®å½•ã€‚
            pbar (tqdm.tqdm): ç”¨äºæ˜¾ç¤ºè¿›åº¦çš„è¿›åº¦æ¡ã€‚
            args (SimpleNamespace): éªŒè¯å™¨çš„é…ç½®ã€‚
            _callbacks (dict): å­˜å‚¨å„ç§å›è°ƒå‡½æ•°çš„å­—å…¸ã€‚

        æ³¨æ„ï¼š
            åœ¨æ­¤ç±»ä¸­ç¦ç”¨äº†ConfusionMatrixå’Œå…¶ä»–ç›¸å…³æŒ‡æ ‡çš„ç»˜å›¾ï¼Œä»¥é¿å…é”™è¯¯ã€‚
        """
        # è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•
        super().__init__(dataloader, save_dir, pbar, args, _callbacks)
        
        # è®¾ç½®ä»»åŠ¡ç±»å‹ä¸º'segment'
        self.args.task = 'segment'
        
        # ç¦ç”¨ç»˜å›¾åŠŸèƒ½ä»¥é¿å…é”™è¯¯
        self.args.plots = False
        
        # åˆå§‹åŒ–åˆ†å‰²æŒ‡æ ‡
        self.metrics = SegmentMetrics(save_dir=self.save_dir, on_plot=self.on_plot)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†åŠæ³¨é‡Šè¯´æ˜ï¼š

1. **ç±»å®šä¹‰**ï¼š`FastSAMValidator` ç»§æ‰¿è‡ª `SegmentationValidator`ï¼Œç”¨äºå¿«é€ŸSAMåˆ†å‰²çš„è‡ªå®šä¹‰éªŒè¯ã€‚
   
2. **æ„é€ å‡½æ•°**ï¼š`__init__` æ–¹æ³•åˆå§‹åŒ–éªŒè¯å™¨ï¼Œè®¾ç½®ä»»åŠ¡ç±»å‹å’ŒæŒ‡æ ‡ã€‚

3. **å‚æ•°è¯´æ˜**ï¼š
   - `dataloader`ï¼šç”¨äºåŠ è½½éªŒè¯æ•°æ®çš„å¯¹è±¡ã€‚
   - `save_dir`ï¼šç»“æœä¿å­˜çš„ç›®å½•ã€‚
   - `pbar`ï¼šè¿›åº¦æ¡å¯¹è±¡ï¼Œç”¨äºæ˜¾ç¤ºéªŒè¯è¿›åº¦ã€‚
   - `args`ï¼šé…ç½®å‚æ•°ï¼ŒåŒ…å«ä»»åŠ¡ç±»å‹å’Œç»˜å›¾è®¾ç½®ã€‚
   - `_callbacks`ï¼šå›è°ƒå‡½æ•°çš„å­—å…¸ï¼Œç”¨äºåœ¨éªŒè¯è¿‡ç¨‹ä¸­è°ƒç”¨ã€‚

4. **çˆ¶ç±»åˆå§‹åŒ–**ï¼šé€šè¿‡ `super().__init__` è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç¡®ä¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•è¢«æ­£ç¡®åˆå§‹åŒ–ã€‚

5. **ä»»åŠ¡è®¾ç½®**ï¼šå°†ä»»åŠ¡ç±»å‹è®¾ç½®ä¸º `segment`ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªåˆ†å‰²ä»»åŠ¡ã€‚

6. **ç¦ç”¨ç»˜å›¾**ï¼šå°† `self.args.plots` è®¾ç½®ä¸º `False`ï¼Œä»¥é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å› ç»˜å›¾å¼•å‘çš„é”™è¯¯ã€‚

7. **æŒ‡æ ‡åˆå§‹åŒ–**ï¼šä½¿ç”¨ `SegmentMetrics` åˆå§‹åŒ–åˆ†å‰²æŒ‡æ ‡ï¼ŒæŒ‡å®šç»“æœä¿å­˜ç›®å½•å’Œç»˜å›¾é€‰é¡¹ã€‚

è¯¥ç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„éªŒè¯ç±»ï¼Œåä¸º `FastSAMValidator`ï¼Œç”¨äºåœ¨Ultralytics YOLOæ¡†æ¶ä¸­è¿›è¡Œå¿«é€ŸSAMï¼ˆSegment Anything Modelï¼‰åˆ†å‰²çš„éªŒè¯ã€‚è¯¥ç±»ç»§æ‰¿è‡ª `SegmentationValidator`ï¼Œå¹¶é’ˆå¯¹å¿«é€ŸSAMçš„éªŒè¯è¿‡ç¨‹è¿›è¡Œäº†å®šåˆ¶ã€‚

åœ¨ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œè¯´æ˜äº†è¯¥ç±»çš„ä¸»è¦åŠŸèƒ½å’Œå±æ€§ã€‚é¦–å…ˆï¼Œå®ƒå°†ä»»åŠ¡è®¾ç½®ä¸ºâ€œåˆ†å‰²â€ï¼Œå¹¶ä½¿ç”¨ `SegmentMetrics` è¿›è¡Œè¯„ä¼°ã€‚æ­¤å¤–ï¼Œä¸ºäº†é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œç»˜å›¾åŠŸèƒ½è¢«ç¦ç”¨ã€‚

åœ¨åˆå§‹åŒ–æ–¹æ³• `__init__` ä¸­ï¼Œç±»æ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½å™¨ã€ç»“æœä¿å­˜ç›®å½•ã€è¿›åº¦æ¡å¯¹è±¡ã€é…ç½®å‚æ•°ä»¥åŠå›è°ƒå‡½æ•°å­—å…¸ã€‚åˆå§‹åŒ–æ—¶ï¼Œå®ƒè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶å°†ä»»åŠ¡ç±»å‹è®¾ç½®ä¸ºâ€œsegmentâ€ã€‚åŒæ—¶ï¼Œç¦ç”¨äº†ä¸æ··æ·†çŸ©é˜µå’Œå…¶ä»–ç›¸å…³æŒ‡æ ‡çš„ç»˜å›¾åŠŸèƒ½ï¼Œä»¥é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ã€‚æœ€åï¼Œç±»è¿˜åˆ›å»ºäº†ä¸€ä¸ª `SegmentMetrics` å®ä¾‹ï¼Œç”¨äºä¿å­˜éªŒè¯ç»“æœå¹¶è¿›è¡Œè¯„ä¼°ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªç±»çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–å¿«é€ŸSAMæ¨¡å‹çš„éªŒè¯è¿‡ç¨‹ï¼Œå¹¶ç¡®ä¿åœ¨è¯„ä¼°æ—¶ä¸ä¼šå› ä¸ºç»˜å›¾åŠŸèƒ½å¯¼è‡´é”™è¯¯ã€‚

#### 11.3 code\ultralytics\engine\model.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class Model(nn.Module):
    """
    ç»Ÿä¸€æ‰€æœ‰æ¨¡å‹APIçš„åŸºç¡€ç±»ã€‚

    å‚æ•°:
        model (str, Path): è¦åŠ è½½æˆ–åˆ›å»ºçš„æ¨¡å‹æ–‡ä»¶è·¯å¾„ã€‚
        task (Any, optional): YOLOæ¨¡å‹çš„ä»»åŠ¡ç±»å‹ã€‚é»˜è®¤ä¸ºNoneã€‚

    å±æ€§:
        predictor (Any): é¢„æµ‹å™¨å¯¹è±¡ã€‚
        model (Any): æ¨¡å‹å¯¹è±¡ã€‚
        trainer (Any): è®­ç»ƒå™¨å¯¹è±¡ã€‚
        task (str): æ¨¡å‹ä»»åŠ¡ç±»å‹ã€‚
        ckpt (Any): å¦‚æœæ¨¡å‹æ˜¯ä»*.ptæ–‡ä»¶åŠ è½½çš„ï¼Œåˆ™ä¸ºæ£€æŸ¥ç‚¹å¯¹è±¡ã€‚
        cfg (str): å¦‚æœä»*.yamlæ–‡ä»¶åŠ è½½ï¼Œåˆ™ä¸ºæ¨¡å‹é…ç½®ã€‚
        ckpt_path (str): æ£€æŸ¥ç‚¹æ–‡ä»¶è·¯å¾„ã€‚
        overrides (dict): è®­ç»ƒå™¨å¯¹è±¡çš„è¦†ç›–è®¾ç½®ã€‚
        metrics (Any): ç”¨äºåº¦é‡çš„æ•°æ®ã€‚
    """

    def __init__(self, model: Union[str, Path] = "yolov8n.pt", task=None, verbose=False) -> None:
        """
        åˆå§‹åŒ–YOLOæ¨¡å‹ã€‚

        å‚æ•°:
            model (Union[str, Path], optional): è¦åŠ è½½æˆ–åˆ›å»ºçš„æ¨¡å‹çš„è·¯å¾„æˆ–åç§°ã€‚é»˜è®¤ä¸º'yolov8n.pt'ã€‚
            task (Any, optional): YOLOæ¨¡å‹çš„ä»»åŠ¡ç±»å‹ã€‚é»˜è®¤ä¸ºNoneã€‚
            verbose (bool, optional): æ˜¯å¦å¯ç”¨è¯¦ç»†æ¨¡å¼ã€‚
        """
        super().__init__()
        self.predictor = None  # é¢„æµ‹å™¨å¯¹è±¡
        self.model = None  # æ¨¡å‹å¯¹è±¡
        self.trainer = None  # è®­ç»ƒå™¨å¯¹è±¡
        self.ckpt = None  # æ£€æŸ¥ç‚¹å¯¹è±¡
        self.cfg = None  # æ¨¡å‹é…ç½®
        self.ckpt_path = None  # æ£€æŸ¥ç‚¹è·¯å¾„
        self.overrides = {}  # è®­ç»ƒå™¨çš„è¦†ç›–è®¾ç½®
        self.metrics = None  # éªŒè¯/è®­ç»ƒåº¦é‡
        self.task = task  # ä»»åŠ¡ç±»å‹
        self.model_name = model = str(model).strip()  # å»é™¤ç©ºæ ¼

        # æ£€æŸ¥æ˜¯å¦ä¸ºUltralytics HUBæ¨¡å‹
        if self.is_hub_model(model):
            self.session = self._get_hub_session(model)  # è·å–HUBä¼šè¯
            model = self.session.model_file  # ä»HUBè·å–æ¨¡å‹æ–‡ä»¶

        # åŠ è½½æˆ–åˆ›å»ºæ–°çš„YOLOæ¨¡å‹
        model = checks.check_model_file_from_stem(model)  # æ·»åŠ åç¼€ï¼Œä¾‹å¦‚yolov8n -> yolov8n.pt
        if Path(model).suffix in (".yaml", ".yml"):
            self._new(model, task=task, verbose=verbose)  # ä»é…ç½®æ–‡ä»¶åˆ›å»ºæ–°æ¨¡å‹
        else:
            self._load(model, task=task)  # ä»æƒé‡æ–‡ä»¶åŠ è½½æ¨¡å‹

        self.model_name = model  # æ›´æ–°æ¨¡å‹åç§°

    def predict(self, source=None, stream=False, predictor=None, **kwargs):
        """
        ä½¿ç”¨YOLOæ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚

        å‚æ•°:
            source (str | int | PIL | np.ndarray): è¦è¿›è¡Œé¢„æµ‹çš„å›¾åƒæºã€‚
            stream (bool): æ˜¯å¦æµå¼ä¼ è¾“é¢„æµ‹ç»“æœã€‚é»˜è®¤ä¸ºFalseã€‚
            predictor (BasePredictor): è‡ªå®šä¹‰é¢„æµ‹å™¨ã€‚
            **kwargs : ä¼ é€’ç»™é¢„æµ‹å™¨çš„å…¶ä»–å…³é”®å­—å‚æ•°ã€‚

        è¿”å›:
            (List[ultralytics.engine.results.Results]): é¢„æµ‹ç»“æœã€‚
        """
        if source is None:
            source = ASSETS  # å¦‚æœæ²¡æœ‰æä¾›æºï¼Œåˆ™ä½¿ç”¨é»˜è®¤èµ„äº§
            LOGGER.warning(f"WARNING âš ï¸ 'source' is missing. Using 'source={source}'.")

        # è®¾ç½®é»˜è®¤å‚æ•°
        custom = {"conf": 0.25, "save": is_cli}  # æ–¹æ³•é»˜è®¤å‚æ•°
        args = {**self.overrides, **custom, **kwargs, "mode": "predict"}  # åˆå¹¶å‚æ•°

        # åˆå§‹åŒ–é¢„æµ‹å™¨
        if not self.predictor:
            self.predictor = predictor or self._smart_load("predictor")(overrides=args, _callbacks=self.callbacks)
            self.predictor.setup_model(model=self.model, verbose=is_cli)
        else:  # å¦‚æœé¢„æµ‹å™¨å·²è®¾ç½®ï¼Œåˆ™ä»…æ›´æ–°å‚æ•°
            self.predictor.args = get_cfg(self.predictor.args, args)

        # è¿”å›é¢„æµ‹ç»“æœ
        return self.predictor.predict_cli(source=source) if is_cli else self.predictor(source=source, stream=stream)

    def _load(self, weights: str, task=None):
        """
        ä»æƒé‡æ–‡ä»¶åŠ è½½æ¨¡å‹å¹¶æ¨æ–­ä»»åŠ¡ç±»å‹ã€‚

        å‚æ•°:
            weights (str): è¦åŠ è½½çš„æ¨¡å‹æ£€æŸ¥ç‚¹ã€‚
            task (str | None): æ¨¡å‹ä»»åŠ¡ã€‚
        """
        suffix = Path(weights).suffix
        if suffix == ".pt":
            self.model, self.ckpt = attempt_load_one_weight(weights)  # åŠ è½½æƒé‡
            self.task = self.model.args["task"]  # è·å–ä»»åŠ¡ç±»å‹
            self.overrides = self.model.args = self._reset_ckpt_args(self.model.args)  # é‡ç½®å‚æ•°
            self.ckpt_path = self.model.pt_path  # è·å–æ£€æŸ¥ç‚¹è·¯å¾„
        else:
            weights = checks.check_file(weights)  # æ£€æŸ¥æ–‡ä»¶
            self.model, self.ckpt = weights, None  # è®¾ç½®æ¨¡å‹å’Œæ£€æŸ¥ç‚¹
            self.task = task or guess_model_task(weights)  # æ¨æ–­ä»»åŠ¡ç±»å‹
            self.ckpt_path = weights  # è®¾ç½®æ£€æŸ¥ç‚¹è·¯å¾„
        self.overrides["model"] = weights  # æ›´æ–°è¦†ç›–è®¾ç½®
        self.overrides["task"] = self.task  # æ›´æ–°ä»»åŠ¡ç±»å‹

    def is_hub_model(self, model):
        """æ£€æŸ¥æä¾›çš„æ¨¡å‹æ˜¯å¦ä¸ºHUBæ¨¡å‹ã€‚"""
        return any(
            (
                model.startswith(f"{HUB_WEB_ROOT}/models/"),  # æ£€æŸ¥æ˜¯å¦ä¸ºHUBæ¨¡å‹URL
                [len(x) for x in model.split("_")] == [42, 20],  # æ£€æŸ¥APIKEY_MODELIDæ ¼å¼
                len(model) == 20 and not Path(model).exists() and all(x not in model for x in "./\\"),  # æ£€æŸ¥MODELIDæ ¼å¼
            )
        )

    def _get_hub_session(self, model: str):
        """ä¸ºHubè®­ç»ƒåˆ›å»ºä¼šè¯ã€‚"""
        from ultralytics.hub.session import HUBTrainingSession

        session = HUBTrainingSession(model)  # åˆ›å»ºHUBè®­ç»ƒä¼šè¯
        return session if session.client.authenticated else None  # è¿”å›ä¼šè¯å¯¹è±¡

    def _check_is_pytorch_model(self):
        """å¦‚æœæ¨¡å‹ä¸æ˜¯PyTorchæ¨¡å‹ï¼Œåˆ™å¼•å‘TypeErrorã€‚"""
        pt_str = isinstance(self.model, (str, Path)) and Path(self.model).suffix == ".pt"
        pt_module = isinstance(self.model, nn.Module)
        if not (pt_module or pt_str):
            raise TypeError(
                f"model='{self.model}' should be a *.pt PyTorch model to run this method."
            )

    @property
    def names(self):
        """è¿”å›åŠ è½½æ¨¡å‹çš„ç±»åç§°ã€‚"""
        return self.model.names if hasattr(self.model, "names") else None

    @property
    def device(self):
        """è¿”å›PyTorchæ¨¡å‹çš„è®¾å¤‡ã€‚"""
        return next(self.model.parameters()).device if isinstance(self.model, nn.Module) else None
```

### ä»£ç è¯´æ˜
1. **Modelç±»**ï¼šè¿™æ˜¯ä¸€ä¸ªYOLOæ¨¡å‹çš„åŸºç¡€ç±»ï¼Œç»Ÿä¸€äº†æ‰€æœ‰æ¨¡å‹çš„APIã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šåœ¨åˆå§‹åŒ–æ—¶ï¼Œæ¨¡å‹å¯ä»¥ä»æŒ‡å®šçš„è·¯å¾„åŠ è½½æˆ–åˆ›å»ºï¼Œå¹¶ä¸”å¯ä»¥æ¨æ–­ä»»åŠ¡ç±»å‹ã€‚
3. **é¢„æµ‹æ–¹æ³•**ï¼šä½¿ç”¨YOLOæ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼Œæ”¯æŒå¤šç§è¾“å…¥æºï¼Œå¹¶è¿”å›é¢„æµ‹ç»“æœã€‚
4. **åŠ è½½æ–¹æ³•**ï¼šä»æƒé‡æ–‡ä»¶åŠ è½½æ¨¡å‹ï¼Œå¹¶æ¨æ–­ä»»åŠ¡ç±»å‹ã€‚
5. **HUBæ¨¡å‹æ£€æŸ¥**ï¼šæ£€æŸ¥æä¾›çš„æ¨¡å‹æ˜¯å¦ä¸ºHUBæ¨¡å‹ã€‚
6. **PyTorchæ¨¡å‹æ£€æŸ¥**ï¼šç¡®ä¿åŠ è½½çš„æ¨¡å‹æ˜¯PyTorchæ ¼å¼ã€‚
7. **å±æ€§**ï¼šæä¾›è·å–æ¨¡å‹åç§°å’Œè®¾å¤‡çš„å±æ€§ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `Model` çš„ç±»ï¼Œä¸»è¦ç”¨äºç»Ÿä¸€ä¸åŒ YOLO æ¨¡å‹çš„ API æ¥å£ã€‚ç±»çš„æ„é€ å‡½æ•°æ¥æ”¶æ¨¡å‹æ–‡ä»¶çš„è·¯å¾„æˆ–åç§°ï¼Œä»¥åŠä»»åŠ¡ç±»å‹å’Œæ˜¯å¦å¯ç”¨è¯¦ç»†æ¨¡å¼çš„å‚æ•°ã€‚ç±»ä¸­åŒ…å«å¤šä¸ªå±æ€§å’Œæ–¹æ³•ï¼Œç”¨äºæ¨¡å‹çš„åŠ è½½ã€é¢„æµ‹ã€è®­ç»ƒã€éªŒè¯ç­‰åŠŸèƒ½ã€‚

åœ¨åˆå§‹åŒ–æ—¶ï¼Œé¦–å…ˆä¼šæ£€æŸ¥æ¨¡å‹æ˜¯å¦æ¥è‡ª Ultralytics HUB æˆ– Triton Serverã€‚å¦‚æœæ˜¯ HUB æ¨¡å‹ï¼Œåˆ™ä¼šåˆ›å»ºä¸€ä¸ªä¼šè¯å¹¶è·å–æ¨¡å‹æ–‡ä»¶ï¼›å¦‚æœæ˜¯ Triton æ¨¡å‹ï¼Œåˆ™ç›´æ¥å°†å…¶èµ‹å€¼ç»™ `self.model`ã€‚æ¥ç€ï¼Œæ ¹æ®æ–‡ä»¶åç¼€åˆ¤æ–­æ˜¯åŠ è½½å·²æœ‰æ¨¡å‹è¿˜æ˜¯åˆ›å»ºæ–°æ¨¡å‹ã€‚å¦‚æœæ˜¯ YAML é…ç½®æ–‡ä»¶ï¼Œåˆ™è°ƒç”¨ `_new` æ–¹æ³•ï¼›å¦‚æœæ˜¯æƒé‡æ–‡ä»¶ï¼Œåˆ™è°ƒç”¨ `_load` æ–¹æ³•ã€‚

`Model` ç±»æä¾›äº†å¤šç§æ–¹æ³•æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚`__call__` æ–¹æ³•å…è®¸é€šè¿‡è°ƒç”¨å®ä¾‹æ¥æ‰§è¡Œé¢„æµ‹ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨ `predict` æ–¹æ³•ã€‚`_new` å’Œ `_load` æ–¹æ³•åˆ†åˆ«ç”¨äºåˆå§‹åŒ–æ–°æ¨¡å‹å’ŒåŠ è½½å·²æœ‰æ¨¡å‹ï¼Œå¹¶æ¨æ–­ä»»åŠ¡ç±»å‹ã€‚`_check_is_pytorch_model` æ–¹æ³•ç”¨äºæ£€æŸ¥å½“å‰æ¨¡å‹æ˜¯å¦ä¸º PyTorch æ¨¡å‹ã€‚

æ­¤å¤–ï¼Œç±»ä¸­è¿˜å®šä¹‰äº† `predict` æ–¹æ³•ï¼Œå…è®¸ç”¨æˆ·å¯¹è¾“å…¥æºè¿›è¡Œé¢„æµ‹ï¼Œæ”¯æŒå¤šç§è¾“å…¥æ ¼å¼ã€‚`track` æ–¹æ³•ç”¨äºåœ¨è¾“å…¥æºä¸Šæ‰§è¡Œå¯¹è±¡è·Ÿè¸ªï¼Œ`val` æ–¹æ³•ç”¨äºåœ¨ç»™å®šæ•°æ®é›†ä¸ŠéªŒè¯æ¨¡å‹ï¼Œ`train` æ–¹æ³•ç”¨äºè®­ç»ƒæ¨¡å‹ã€‚

ç±»è¿˜æ”¯æŒæ¨¡å‹çš„å¯¼å‡ºã€è¶…å‚æ•°è°ƒä¼˜å’ŒåŸºå‡†æµ‹è¯•ç­‰åŠŸèƒ½ã€‚é€šè¿‡ `add_callback`ã€`clear_callback` å’Œ `reset_callbacks` æ–¹æ³•ï¼Œç”¨æˆ·å¯ä»¥ç®¡ç†æ¨¡å‹çš„å›è°ƒå‡½æ•°ã€‚ç±»çš„å±æ€§å¦‚ `names`ã€`device` å’Œ `transforms` æä¾›äº†å¯¹æ¨¡å‹ç›¸å…³ä¿¡æ¯çš„è®¿é—®ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ª `Model` ç±»æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„æ¥å£ï¼Œå°è£…äº† YOLO æ¨¡å‹çš„å„ç§æ“ä½œï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæ¨¡å‹çš„åŠ è½½ã€è®­ç»ƒã€é¢„æµ‹å’Œè¯„ä¼°ç­‰ä»»åŠ¡ã€‚

#### 11.4 code\ultralytics\utils\downloads.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦åŒ…æ‹¬æ–‡ä»¶ä¸‹è½½ã€è§£å‹å’Œç›¸å…³è¾…åŠ©åŠŸèƒ½çš„å®ç°ï¼š

```python
import contextlib
import shutil
from pathlib import Path
import requests
from zipfile import ZipFile, is_zipfile
from tqdm import tqdm  # è¿›åº¦æ¡åº“

def delete_dsstore(path, files_to_delete=(".DS_Store", "__MACOSX")):
    """
    åˆ é™¤æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ ".DS_Store" æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ macOS ç³»ç»Ÿç”Ÿæˆçš„éšè—æ–‡ä»¶ï¼Œå¯èƒ½åœ¨ä¸åŒæ“ä½œç³»ç»Ÿé—´ä¼ è¾“æ—¶é€ æˆé—®é¢˜ã€‚
    
    Args:
        path (str): éœ€è¦åˆ é™¤ ".DS_Store" æ–‡ä»¶çš„ç›®å½•è·¯å¾„ã€‚
        files_to_delete (tuple): éœ€è¦åˆ é™¤çš„æ–‡ä»¶åå…ƒç»„ï¼Œé»˜è®¤åŒ…æ‹¬ ".DS_Store" å’Œ "__MACOSX"ã€‚
    """
    for file in files_to_delete:
        matches = list(Path(path).rglob(file))  # é€’å½’æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶
        for f in matches:
            f.unlink()  # åˆ é™¤æ–‡ä»¶

def unzip_file(file, path=None, exclude=(".DS_Store", "__MACOSX"), exist_ok=False):
    """
    è§£å‹ç¼©æŒ‡å®šçš„ zip æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ï¼Œæ’é™¤ç‰¹å®šæ–‡ä»¶ã€‚
    
    Args:
        file (str): è¦è§£å‹çš„ zip æ–‡ä»¶è·¯å¾„ã€‚
        path (str, optional): è§£å‹åˆ°çš„ç›®æ ‡è·¯å¾„ï¼Œé»˜è®¤ä¸º zip æ–‡ä»¶çš„çˆ¶ç›®å½•ã€‚
        exclude (tuple, optional): è¦æ’é™¤çš„æ–‡ä»¶åå…ƒç»„ï¼Œé»˜è®¤åŒ…æ‹¬ ".DS_Store" å’Œ "__MACOSX"ã€‚
        exist_ok (bool, optional): å¦‚æœç›®æ ‡ç›®å½•å·²å­˜åœ¨ä¸”ä¸ä¸ºç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Œé»˜è®¤ä¸º Falseã€‚
    
    Returns:
        Path: è§£å‹åçš„ç›®å½•è·¯å¾„ã€‚
    """
    if path is None:
        path = Path(file).parent  # é»˜è®¤è§£å‹åˆ° zip æ–‡ä»¶çš„çˆ¶ç›®å½•

    with ZipFile(file) as zipObj:
        files = [f for f in zipObj.namelist() if all(x not in f for x in exclude)]  # è¿‡æ»¤æ’é™¤çš„æ–‡ä»¶
        zipObj.extractall(path)  # è§£å‹æ‰€æœ‰æ–‡ä»¶
    return path  # è¿”å›è§£å‹åçš„ç›®å½•è·¯å¾„

def safe_download(url, file=None, dir=None, unzip=True, retry=3):
    """
    ä»æŒ‡å®š URL ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶å¯é€‰æ‹©è§£å‹ç¼©ã€‚
    
    Args:
        url (str): è¦ä¸‹è½½çš„æ–‡ä»¶çš„ URLã€‚
        file (str, optional): ä¸‹è½½åä¿å­˜çš„æ–‡ä»¶åï¼Œé»˜è®¤ä¸º URL ä¸­çš„æ–‡ä»¶åã€‚
        dir (str, optional): ä¿å­˜ä¸‹è½½æ–‡ä»¶çš„ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚
        unzip (bool, optional): ä¸‹è½½åæ˜¯å¦è§£å‹ç¼©ï¼Œé»˜è®¤ä¸º Trueã€‚
        retry (int, optional): ä¸‹è½½å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3ã€‚
    
    Returns:
        Path: ä¸‹è½½çš„æ–‡ä»¶è·¯å¾„ã€‚
    """
    f = Path(dir or ".") / (file or Path(url).name)  # ç”Ÿæˆæ–‡ä»¶è·¯å¾„
    for i in range(retry + 1):
        try:
            response = requests.get(url, stream=True)  # å‘é€ GET è¯·æ±‚
            response.raise_for_status()  # æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ
            with open(f, "wb") as f_opened:
                for chunk in response.iter_content(chunk_size=8192):
                    f_opened.write(chunk)  # å†™å…¥æ–‡ä»¶
            if unzip and f.suffix in (".zip", ".tar", ".gz"):
                unzip_file(f)  # è§£å‹æ–‡ä»¶
            return f  # è¿”å›æ–‡ä»¶è·¯å¾„
        except Exception as e:
            if i == retry:
                raise e  # è¶…è¿‡é‡è¯•æ¬¡æ•°åˆ™æŠ›å‡ºå¼‚å¸¸

def download(url, dir=Path.cwd(), unzip=True, retry=3):
    """
    ä»æŒ‡å®š URL ä¸‹è½½æ–‡ä»¶åˆ°ç»™å®šç›®å½•ï¼Œå¹¶å¯é€‰æ‹©è§£å‹ç¼©ã€‚
    
    Args:
        url (str): è¦ä¸‹è½½çš„æ–‡ä»¶çš„ URLã€‚
        dir (Path, optional): ä¿å­˜ä¸‹è½½æ–‡ä»¶çš„ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚
        unzip (bool, optional): ä¸‹è½½åæ˜¯å¦è§£å‹ç¼©ï¼Œé»˜è®¤ä¸º Trueã€‚
        retry (int, optional): ä¸‹è½½å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3ã€‚
    """
    dir.mkdir(parents=True, exist_ok=True)  # åˆ›å»ºç›®å½•
    safe_download(url, dir=dir, unzip=unzip, retry=retry)  # è°ƒç”¨å®‰å…¨ä¸‹è½½å‡½æ•°
```

### ä»£ç è¯´æ˜ï¼š
1. **delete_dsstore**: åˆ é™¤æŒ‡å®šç›®å½•ä¸‹çš„éšè—æ–‡ä»¶ï¼Œä¸»è¦æ˜¯ `.DS_Store` æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶åœ¨ä¸åŒæ“ä½œç³»ç»Ÿé—´ä¼ è¾“æ—¶å¯èƒ½é€ æˆé—®é¢˜ã€‚
2. **unzip_file**: è§£å‹ç¼©æŒ‡å®šçš„ zip æ–‡ä»¶ï¼Œæ”¯æŒæ’é™¤ç‰¹å®šæ–‡ä»¶ã€‚
3. **safe_download**: ä»æŒ‡å®š URL ä¸‹è½½æ–‡ä»¶ï¼Œæ”¯æŒé‡è¯•æœºåˆ¶ï¼Œå¹¶å¯é€‰æ‹©è§£å‹ç¼©ä¸‹è½½çš„æ–‡ä»¶ã€‚
4. **download**: ä¸»ä¸‹è½½å‡½æ•°ï¼Œè´Ÿè´£åˆ›å»ºç›®å½•å¹¶è°ƒç”¨ `safe_download` è¿›è¡Œä¸‹è½½ã€‚

ä»¥ä¸Šä»£ç å®ç°äº†æ–‡ä»¶çš„ä¸‹è½½å’Œè§£å‹ç¼©åŠŸèƒ½ï¼Œå¹¶é€šè¿‡æ³¨é‡Šè¯¦ç»†è§£é‡Šäº†æ¯ä¸ªå‡½æ•°çš„ä½œç”¨å’Œå‚æ•°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `downloads.py` æ˜¯ Ultralytics YOLO é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå¤„ç†æ–‡ä»¶çš„ä¸‹è½½ã€è§£å‹å’Œç›¸å…³çš„æ–‡ä»¶ç®¡ç†æ“ä½œã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æ‰¿æ‹…ç‰¹å®šçš„åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¼•å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬å¤„ç†è·¯å¾„çš„ `Path`ã€è¿›è¡Œç½‘ç»œè¯·æ±‚çš„ `requests`ã€ä»¥åŠç”¨äºå¤šçº¿ç¨‹ä¸‹è½½çš„ `ThreadPool`ã€‚å®ƒè¿˜å®šä¹‰äº†ä¸€äº›å¸¸é‡ï¼Œå¦‚ GitHub ä¸Šçš„èµ„äº§åç§°å’Œè·¯å¾„ï¼Œä»¥ä¾¿äºåç»­çš„ä¸‹è½½æ“ä½œã€‚

æ–‡ä»¶ä¸­å®šä¹‰çš„ `is_url` å‡½æ•°ç”¨äºéªŒè¯ç»™å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ URLï¼Œå¹¶å¯é€‰æ‹©æ€§åœ°æ£€æŸ¥è¯¥ URL æ˜¯å¦åœ¨çº¿ã€‚å®ƒä½¿ç”¨ `urlparse` æ¥è§£æ URLï¼Œå¹¶é€šè¿‡ `urlopen` æ¥ç¡®è®¤ URL çš„å¯è®¿é—®æ€§ã€‚

`delete_dsstore` å‡½æ•°ç”¨äºåˆ é™¤æŒ‡å®šç›®å½•ä¸‹çš„ `.DS_Store` æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ macOS ç³»ç»Ÿç”Ÿæˆçš„éšè—æ–‡ä»¶ï¼Œå¯èƒ½åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´ä¼ è¾“æ–‡ä»¶æ—¶é€ æˆé—®é¢˜ã€‚

`zip_directory` å’Œ `unzip_file` å‡½æ•°åˆ†åˆ«ç”¨äºå‹ç¼©å’Œè§£å‹ç›®å½•ã€‚å‹ç¼©æ—¶ä¼šæ’é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œè§£å‹æ—¶åˆ™ä¼šæ ¹æ®æ–‡ä»¶ç»“æ„åˆ›å»ºé€‚å½“çš„ç›®å½•ï¼Œç¡®ä¿æ–‡ä»¶çš„å®‰å…¨æå–ã€‚

`check_disk_space` å‡½æ•°ç”¨äºæ£€æŸ¥ä¸‹è½½æ–‡ä»¶æ‰€éœ€çš„ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³ã€‚å®ƒä¼šè®¡ç®—å½“å‰å¯ç”¨ç©ºé—´ä¸ä¸‹è½½æ–‡ä»¶å¤§å°çš„æ¯”ä¾‹ï¼Œå¹¶æ ¹æ®è®¾å®šçš„å®‰å…¨å› å­åˆ¤æ–­æ˜¯å¦è¶³å¤Ÿã€‚

`get_google_drive_file_info` å‡½æ•°ç”¨äºä» Google Drive çš„åˆ†äº«é“¾æ¥ä¸­æå–ç›´æ¥ä¸‹è½½é“¾æ¥å’Œæ–‡ä»¶åï¼Œä»¥ä¾¿äºåç»­çš„ä¸‹è½½æ“ä½œã€‚

`safe_download` å‡½æ•°æ˜¯æ ¸å¿ƒä¸‹è½½åŠŸèƒ½ï¼Œæ”¯æŒä» URL ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶æä¾›äº†é‡è¯•æœºåˆ¶ã€è§£å‹é€‰é¡¹ã€åˆ é™¤ä¸‹è½½æ–‡ä»¶çš„é€‰é¡¹ç­‰ã€‚å®ƒèƒ½å¤Ÿå¤„ç† Google Drive çš„é“¾æ¥ï¼Œå¹¶ä½¿ç”¨ `curl` æˆ– `urllib` è¿›è¡Œä¸‹è½½ï¼Œç¡®ä¿ä¸‹è½½çš„æ–‡ä»¶ç¬¦åˆå¤§å°è¦æ±‚ã€‚

`get_github_assets` å‡½æ•°ç”¨äºä»æŒ‡å®šçš„ GitHub ä»“åº“è·å–ç‰ˆæœ¬æ ‡ç­¾å’Œèµ„äº§åˆ—è¡¨ï¼Œä»¥ä¾¿äºä¸‹è½½ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶ã€‚

`attempt_download_asset` å‡½æ•°å°è¯•ä» GitHub çš„å‘å¸ƒèµ„äº§ä¸­ä¸‹è½½æŒ‡å®šçš„æ–‡ä»¶ï¼Œå¦‚æœæœ¬åœ°ä¸å­˜åœ¨è¯¥æ–‡ä»¶ï¼Œåˆ™ä¼šè¿›è¡Œä¸‹è½½ã€‚

æœ€åï¼Œ`download` å‡½æ•°æ˜¯ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œå…è®¸ç”¨æˆ·ä¸‹è½½ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå¹¶æ”¯æŒå¹¶å‘ä¸‹è½½ã€‚å®ƒä¼šæ ¹æ®ç”¨æˆ·çš„éœ€æ±‚è°ƒç”¨ `safe_download` å‡½æ•°æ¥æ‰§è¡Œå®é™…çš„ä¸‹è½½æ“ä½œã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºæ–‡ä»¶çš„ä¸‹è½½ã€è§£å‹å’Œç®¡ç†ï¼Œé€‚ç”¨äºéœ€è¦å¤„ç†å¤§é‡æ•°æ®å’Œæ¨¡å‹æ–‡ä»¶çš„æœºå™¨å­¦ä¹ é¡¹ç›®ã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\mlflow.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºåœ¨Ultralytics YOLOä¸­å®ç°MLflowæ—¥å¿—è®°å½•åŠŸèƒ½ï¼š

```python
# å¯¼å…¥å¿…è¦çš„åº“å’Œæ¨¡å—
from ultralytics.utils import LOGGER, RUNS_DIR, SETTINGS, TESTS_RUNNING, colorstr

try:
    import os
    import mlflow  # å¯¼å…¥mlflowåº“ç”¨äºæ—¥å¿—è®°å½•
    from pathlib import Path

    # ç¡®ä¿åœ¨æµ‹è¯•è¿è¡Œæ—¶ä¸è®°å½•æ—¥å¿—
    assert not TESTS_RUNNING or 'test_mlflow' in os.environ.get('PYTEST_CURRENT_TEST', '')
    # ç¡®ä¿MLflowé›†æˆå·²å¯ç”¨
    assert SETTINGS['mlflow'] is True  
    assert hasattr(mlflow, '__version__')  # ç¡®ä¿mlflowåŒ…å·²æ­£ç¡®å¯¼å…¥

    PREFIX = colorstr('MLflow: ')  # è®¾ç½®æ—¥å¿—å‰ç¼€

except (ImportError, AssertionError):
    mlflow = None  # å¦‚æœå¯¼å…¥å¤±è´¥ï¼Œåˆ™mlflowè®¾ç½®ä¸ºNone


def on_pretrain_routine_end(trainer):
    """
    åœ¨é¢„è®­ç»ƒä¾‹ç¨‹ç»“æŸæ—¶è®°å½•è®­ç»ƒå‚æ•°åˆ°MLflowã€‚

    Args:
        trainer (ultralytics.engine.trainer.BaseTrainer): åŒ…å«è¦è®°å½•çš„å‚æ•°çš„è®­ç»ƒå¯¹è±¡ã€‚
    """
    global mlflow

    # è·å–MLflowè·Ÿè¸ªURIï¼Œå¦‚æœæœªè®¾ç½®åˆ™ä½¿ç”¨é»˜è®¤å€¼
    uri = os.environ.get('MLFLOW_TRACKING_URI') or str(RUNS_DIR / 'mlflow')
    LOGGER.debug(f'{PREFIX} tracking uri: {uri}')
    mlflow.set_tracking_uri(uri)  # è®¾ç½®è·Ÿè¸ªURI

    # è®¾ç½®å®éªŒå’Œè¿è¡Œåç§°
    experiment_name = os.environ.get('MLFLOW_EXPERIMENT_NAME') or trainer.args.project or '/Shared/YOLOv8'
    run_name = os.environ.get('MLFLOW_RUN') or trainer.args.name
    mlflow.set_experiment(experiment_name)  # è®¾ç½®å®éªŒåç§°

    mlflow.autolog()  # å¯ç”¨è‡ªåŠ¨æ—¥å¿—è®°å½•
    try:
        # å¼€å§‹MLflowè¿è¡Œ
        active_run = mlflow.active_run() or mlflow.start_run(run_name=run_name)
        LOGGER.info(f'{PREFIX}logging run_id({active_run.info.run_id}) to {uri}')
        mlflow.log_params(dict(trainer.args))  # è®°å½•è®­ç»ƒå‚æ•°
    except Exception as e:
        LOGGER.warning(f'{PREFIX}WARNING âš ï¸ Failed to initialize: {e}\n'
                       f'{PREFIX}WARNING âš ï¸ Not tracking this run')


def on_fit_epoch_end(trainer):
    """åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•è®­ç»ƒæŒ‡æ ‡åˆ°MLflowã€‚"""
    if mlflow:
        # æ¸…ç†æŒ‡æ ‡åç§°å¹¶è®°å½•åˆ°MLflow
        sanitized_metrics = {k.replace('(', '').replace(')', ''): float(v) for k, v in trainer.metrics.items()}
        mlflow.log_metrics(metrics=sanitized_metrics, step=trainer.epoch)


def on_train_end(trainer):
    """åœ¨è®­ç»ƒç»“æŸæ—¶è®°å½•æ¨¡å‹å·¥ä»¶ã€‚"""
    if mlflow:
        # è®°å½•æœ€ä½³æ¨¡å‹åŠå…¶ä»–æ–‡ä»¶
        mlflow.log_artifact(str(trainer.best.parent))  # è®°å½•æœ€ä½³æ¨¡å‹ç›®å½•
        for f in trainer.save_dir.glob('*'):  # è®°å½•ä¿å­˜ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶
            if f.suffix in {'.png', '.jpg', '.csv', '.pt', '.yaml'}:
                mlflow.log_artifact(str(f))

        mlflow.end_run()  # ç»“æŸå½“å‰è¿è¡Œ
        LOGGER.info(f'{PREFIX}results logged to {mlflow.get_tracking_uri()}')


# å®šä¹‰å›è°ƒå‡½æ•°
callbacks = {
    'on_pretrain_routine_end': on_pretrain_routine_end,
    'on_fit_epoch_end': on_fit_epoch_end,
    'on_train_end': on_train_end} if mlflow else {}
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥éƒ¨åˆ†**ï¼šå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬Ultralyticsçš„å·¥å…·å’ŒMLflowåº“ã€‚
2. **å¼‚å¸¸å¤„ç†**ï¼šåœ¨å¯¼å…¥MLflowæ—¶è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Œç¡®ä¿åªæœ‰åœ¨MLflowå¯ç”¨æ—¶æ‰ä¼šè¿›è¡Œæ—¥å¿—è®°å½•ã€‚
3. **`on_pretrain_routine_end`å‡½æ•°**ï¼šåœ¨é¢„è®­ç»ƒç»“æŸæ—¶è®°å½•è®­ç»ƒå‚æ•°ï¼ŒåŒ…æ‹¬è®¾ç½®è·Ÿè¸ªURIã€å®éªŒåç§°å’Œè¿è¡Œåç§°ï¼Œå¹¶è®°å½•å‚æ•°ã€‚
4. **`on_fit_epoch_end`å‡½æ•°**ï¼šåœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•è®­ç»ƒæŒ‡æ ‡ã€‚
5. **`on_train_end`å‡½æ•°**ï¼šåœ¨è®­ç»ƒç»“æŸæ—¶è®°å½•æ¨¡å‹å·¥ä»¶ï¼ŒåŒ…æ‹¬æœ€ä½³æ¨¡å‹å’Œå…¶ä»–ç›¸å…³æ–‡ä»¶ã€‚
6. **å›è°ƒå‡½æ•°å­—å…¸**ï¼šæ ¹æ®MLflowæ˜¯å¦å¯ç”¨å®šä¹‰å›è°ƒå‡½æ•°ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è‡ªåŠ¨è®°å½•ç›¸å…³ä¿¡æ¯ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOæ¡†æ¶ä¸­ç”¨äºé›†æˆMLflowçš„æ—¥å¿—è®°å½•æ¨¡å—ã€‚MLflowæ˜¯ä¸€ä¸ªå¼€æºå¹³å°ï¼Œç”¨äºç®¡ç†æœºå™¨å­¦ä¹ å®éªŒï¼ŒåŒ…æ‹¬è®°å½•æ¨¡å‹çš„å‚æ•°ã€æŒ‡æ ‡å’Œå·¥ä»¶ç­‰ã€‚è¯¥æ¨¡å—çš„ä¸»è¦åŠŸèƒ½æ˜¯ä¸ºYOLOè®­ç»ƒè¿‡ç¨‹ä¸­çš„å„ä¸ªé˜¶æ®µæä¾›æ—¥å¿—è®°å½•æ”¯æŒï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿè¿½è¸ªå’Œç®¡ç†ä»–ä»¬çš„å®éªŒã€‚

æ–‡ä»¶å¼€å¤´éƒ¨åˆ†åŒ…å«äº†æ¨¡å—çš„æè¿°å’Œä½¿ç”¨è¯´æ˜ï¼ŒåŒ…æ‹¬å¦‚ä½•è®¾ç½®é¡¹ç›®åç§°ã€è¿è¡Œåç§°ä»¥åŠå¦‚ä½•å¯åŠ¨æœ¬åœ°çš„MLflowæœåŠ¡å™¨ç­‰ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥é…ç½®è¿™äº›å‚æ•°ï¼Œä¾‹å¦‚`MLFLOW_EXPERIMENT_NAME`ç”¨äºè®¾ç½®å®éªŒåç§°ï¼Œ`MLFLOW_RUN`ç”¨äºè®¾ç½®è¿è¡Œåç§°ï¼Œè€Œ`MLFLOW_TRACKING_URI`åˆ™æŒ‡å®šäº†MLflowçš„è·Ÿè¸ªURIã€‚

åœ¨å¯¼å…¥å¿…è¦çš„åº“å’Œæ¨¡å—åï¼Œä»£ç é¦–å…ˆæ£€æŸ¥æ˜¯å¦åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿è¡Œï¼Œå¹¶ç¡®ä¿MLflowé›†æˆå·²å¯ç”¨ã€‚å¦‚æœå¯¼å…¥MLflowå¤±è´¥æˆ–ç‰ˆæœ¬ä¸æ­£ç¡®ï¼Œåˆ™ä¼šå°†`mlflow`å˜é‡è®¾ç½®ä¸º`None`ï¼Œä»¥é¿å…åç»­è°ƒç”¨æ—¶å‡ºç°é”™è¯¯ã€‚

æ¥ä¸‹æ¥çš„å‡ ä¸ªå‡½æ•°è´Ÿè´£åœ¨ä¸åŒçš„è®­ç»ƒé˜¶æ®µè®°å½•æ—¥å¿—ã€‚`on_pretrain_routine_end`å‡½æ•°åœ¨é¢„è®­ç»ƒä¾‹ç¨‹ç»“æŸæ—¶è¢«è°ƒç”¨ï¼Œå®ƒä¼šæ ¹æ®ç¯å¢ƒå˜é‡å’Œè®­ç»ƒå™¨çš„å‚æ•°è®¾ç½®MLflowçš„è·Ÿè¸ªURIã€å®éªŒåç§°å’Œè¿è¡Œåç§°ï¼Œå¹¶å¼€å§‹ä¸€ä¸ªæ–°çš„MLflowè¿è¡Œã€‚ç„¶åï¼Œå®ƒä¼šè®°å½•è®­ç»ƒå™¨çš„å‚æ•°ã€‚

`on_fit_epoch_end`å‡½æ•°åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è¢«è°ƒç”¨ï¼Œç”¨äºè®°å½•å½“å‰å‘¨æœŸçš„è®­ç»ƒæŒ‡æ ‡ã€‚å®ƒä¼šå°†æŒ‡æ ‡è¿›è¡Œæ¸…æ´—ï¼ˆå»æ‰æ‹¬å·ç­‰å­—ç¬¦ï¼‰ï¼Œå¹¶å°†å…¶è®°å½•åˆ°MLflowä¸­ã€‚

`on_train_end`å‡½æ•°åœ¨è®­ç»ƒç»“æŸæ—¶è¢«è°ƒç”¨ï¼Œç”¨äºè®°å½•æ¨¡å‹çš„å·¥ä»¶ã€‚å®ƒä¼šå°†æœ€ä½³æ¨¡å‹å’Œå…¶ä»–ç›¸å…³æ–‡ä»¶ï¼ˆå¦‚å›¾åƒã€CSVæ–‡ä»¶ç­‰ï¼‰è®°å½•åˆ°MLflowä¸­ï¼Œå¹¶ç»“æŸå½“å‰çš„MLflowè¿è¡Œã€‚

æœ€åï¼Œæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªå›è°ƒå­—å…¸ï¼ŒåŒ…å«äº†åœ¨ä¸åŒè®­ç»ƒé˜¶æ®µè°ƒç”¨çš„å‡½æ•°ï¼Œå¦‚æœMLflowæœªæˆåŠŸå¯¼å…¥ï¼Œåˆ™è¯¥å­—å…¸ä¸ºç©ºã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ¨¡å—ä¸ºYOLOè®­ç»ƒè¿‡ç¨‹æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æ—¥å¿—è®°å½•æ¥å£ï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿè½»æ¾åœ°ç®¡ç†å’Œè¿½è¸ªä»–ä»¬çš„æœºå™¨å­¦ä¹ å®éªŒã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦é›†ä¸­åœ¨YOLOæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€é¢„å¤„ç†å’Œæ¨¡å‹è®¾ç½®ç­‰å…³é”®åŠŸèƒ½ã€‚

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    æ‰©å±•è‡ªBaseTrainerç±»ï¼Œç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ'train'æˆ–'val'ï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ç§æ¨¡å¼è‡ªå®šä¹‰ä¸åŒçš„å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œé€‚ç”¨äº'rect'æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)  # è·å–æ¨¡å‹çš„æœ€å¤§æ­¥å¹…
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æœ‰æ•ˆ
        with torch_distributed_zero_first(rank):  # ä»…åœ¨DDPæ—¶åˆå§‹åŒ–æ•°æ®é›†
            dataset = self.build_dataset(dataset_path, mode, batch_size)  # æ„å»ºæ•°æ®é›†
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒè½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©ä¸€ä¸ªæ–°çš„å°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs  # æ›´æ–°æ‰¹æ¬¡å›¾åƒ
        return batch

    def set_model_attributes(self):
        """è®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œåç§°ã€‚"""
        self.model.nc = self.data["nc"]  # å°†ç±»åˆ«æ•°é‡é™„åŠ åˆ°æ¨¡å‹
        self.model.names = self.data["names"]  # å°†ç±»åˆ«åç§°é™„åŠ åˆ°æ¨¡å‹
        self.model.args = self.args  # å°†è¶…å‚æ•°é™„åŠ åˆ°æ¨¡å‹

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›YOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model
```

### ä»£ç è¯´æ˜
1. **build_dataset**: æ„å»ºYOLOæ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„æ­¥å¹…è®¾ç½®æ•°æ®é›†çš„å¤§å°ã€‚
2. **get_dataloader**: åˆ›å»ºæ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒæ—¶åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ï¼Œå¹¶æ ¹æ®æ¨¡å¼è®¾ç½®æ˜¯å¦æ‰“ä¹±æ•°æ®ã€‚
3. **preprocess_batch**: å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¤šå°ºåº¦è°ƒæ•´ï¼Œç¡®ä¿è¾“å…¥æ¨¡å‹çš„å›¾åƒç¬¦åˆè¦æ±‚ã€‚
4. **set_model_attributes**: è®¾ç½®æ¨¡å‹çš„ç±»åˆ«æ•°é‡å’Œåç§°ï¼Œç¡®ä¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«ç›®æ ‡ã€‚
5. **get_model**: è¿”å›YOLOæ£€æµ‹æ¨¡å‹ï¼Œæ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è„šæœ¬ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œæ—¨åœ¨æ„å»ºæ•°æ®é›†ã€è·å–æ•°æ®åŠ è½½å™¨ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€è¿›è¡ŒéªŒè¯ã€è®°å½•æŸå¤±ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€ç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’Œç»˜åˆ¶æŒ‡æ ‡ç­‰åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œ`DetectionTrainer` ç±»é€šè¿‡ `build_dataset` æ–¹æ³•æ„å»º YOLO æ•°æ®é›†ï¼Œæ¥å—å›¾åƒè·¯å¾„ã€æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰å’Œæ‰¹æ¬¡å¤§å°ä½œä¸ºå‚æ•°ã€‚è¯¥æ–¹æ³•ä½¿ç”¨ `build_yolo_dataset` å‡½æ•°æ¥ç”Ÿæˆæ•°æ®é›†ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„æ­¥å¹…è°ƒæ•´å›¾åƒçš„å¤§å°ã€‚

æ¥ä¸‹æ¥ï¼Œ`get_dataloader` æ–¹æ³•ç”¨äºæ„å»ºå’Œè¿”å›æ•°æ®åŠ è½½å™¨ã€‚å®ƒä¼šæ ¹æ®æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ¥å†³å®šæ˜¯å¦æ‰“ä¹±æ•°æ®ï¼Œå¹¶è®¾ç½®å·¥ä½œçº¿ç¨‹çš„æ•°é‡ã€‚ä½¿ç”¨ `torch_distributed_zero_first` ç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œæ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚

åœ¨ `preprocess_batch` æ–¹æ³•ä¸­ï¼Œæ‰¹é‡å›¾åƒè¢«ç¼©æ”¾å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚æ­¤æ–¹æ³•è¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒå¤§å°æ¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®å¤„ç†ä¸åŒçš„ç›®æ ‡ç±»åˆ«ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚`get_validator` æ–¹æ³•åˆ™è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯æ¨¡å‹æ€§èƒ½çš„éªŒè¯å™¨ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ï¼Œæ–¹ä¾¿åç»­çš„æŸå¤±è®°å½•å’Œåˆ†æã€‚`progress_string` æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œç”¨äºæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„ epochã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œä¾¿äºå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œæ ‡ç­¾ï¼Œå¸®åŠ©ç”¨æˆ·åˆ†ææ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸º YOLO æ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œæ¶µç›–äº†æ•°æ®å¤„ç†ã€æ¨¡å‹æ„å»ºã€è®­ç»ƒè¿‡ç¨‹ç›‘æ§å’Œç»“æœå¯è§†åŒ–ç­‰å¤šä¸ªæ–¹é¢ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº YOLOv8 çš„ç›®æ ‡æ£€æµ‹æ¡†æ¶ï¼Œæä¾›äº†æ¨¡å‹è®­ç»ƒã€éªŒè¯ã€æ¨ç†å’Œæ—¥å¿—è®°å½•ç­‰åŠŸèƒ½ã€‚é¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—åŒ–è®¾è®¡ä½¿å¾—å„ä¸ªåŠŸèƒ½æ¨¡å—ä¹‹é—´ç›¸å¯¹ç‹¬ç«‹ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

1. **æ¨¡å‹è®­ç»ƒ**ï¼šé€šè¿‡ `train.py` è„šæœ¬ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è®­ç»ƒ YOLO æ¨¡å‹ï¼Œæ”¯æŒæ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹è®¾ç½®ã€è®­ç»ƒè¿‡ç¨‹ç›‘æ§å’Œç»“æœå¯è§†åŒ–ã€‚
2. **æ¨¡å‹éªŒè¯**ï¼šé€šè¿‡ `val.py` æ–‡ä»¶ï¼Œæä¾›äº†éªŒè¯æ¨¡å‹æ€§èƒ½çš„å·¥å…·ï¼Œç¡®ä¿è®­ç»ƒåçš„æ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆåœ°è¿›è¡Œç›®æ ‡æ£€æµ‹ã€‚
3. **æ¨¡å‹ç®¡ç†**ï¼š`model.py` æ–‡ä»¶æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œç”¨äºåŠ è½½ã€é¢„æµ‹å’Œç®¡ç†ä¸åŒçš„ YOLO æ¨¡å‹ã€‚
4. **æ–‡ä»¶ä¸‹è½½å’Œç®¡ç†**ï¼š`downloads.py` è´Ÿè´£å¤„ç†æ¨¡å‹å’Œæ•°æ®é›†çš„ä¸‹è½½ã€è§£å‹å’Œç®¡ç†ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°è·å–æ‰€éœ€èµ„æºã€‚
5. **æ—¥å¿—è®°å½•**ï¼š`mlflow.py` é›†æˆäº† MLflowï¼Œå…è®¸ç”¨æˆ·è®°å½•è®­ç»ƒè¿‡ç¨‹ä¸­çš„å‚æ•°ã€æŒ‡æ ‡å’Œæ¨¡å‹å·¥ä»¶ï¼Œä¾¿äºå®éªŒç®¡ç†å’Œè¿½è¸ªã€‚
6. **å·¥å…·å’Œå®ç”¨å‡½æ•°**ï¼šå…¶ä»–æ¨¡å—æä¾›äº†å¤šç§å®ç”¨å·¥å…·ï¼Œä¾‹å¦‚åŸºå‡†æµ‹è¯•ã€æ•°æ®åˆ†å‰²ã€å›¾åƒå¤„ç†ç­‰ï¼Œå¢å¼ºäº†æ•´ä½“æ¡†æ¶çš„åŠŸèƒ½ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                          | åŠŸèƒ½æè¿°                                               |
|---------------------------------------------------------------------------------------------------|------------------------------------------------------|
| `ui.py`                                                                                           | å¯åŠ¨å¹¶è¿è¡Œ Streamlit åº”ç”¨ç¨‹åºã€‚                        |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\fastsam\val.py`       | å®šä¹‰å¿«é€ŸSAMæ¨¡å‹çš„éªŒè¯ç±»ï¼Œè¿›è¡Œåˆ†å‰²æ¨¡å‹çš„éªŒè¯ã€‚         |
| `code\ultralytics\engine\model.py`                                                               | æä¾› YOLO æ¨¡å‹çš„ç»Ÿä¸€æ¥å£ï¼Œæ”¯æŒåŠ è½½ã€é¢„æµ‹å’Œè®­ç»ƒã€‚      |
| `code\ultralytics\utils\downloads.py`                                                            | å¤„ç†æ–‡ä»¶çš„ä¸‹è½½ã€è§£å‹å’Œç®¡ç†æ“ä½œã€‚                       |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\mlflow.py` | é›†æˆ MLflow è¿›è¡Œè®­ç»ƒè¿‡ç¨‹çš„æ—¥å¿—è®°å½•å’Œå®éªŒç®¡ç†ã€‚        |
| `train.py`                                                                                       | è®­ç»ƒ YOLO æ¨¡å‹ï¼Œæ”¯æŒæ•°æ®é›†æ„å»ºã€åŠ è½½å’Œè®­ç»ƒè¿‡ç¨‹ç›‘æ§ã€‚  |
| `code\ultralytics\utils\benchmarks.py`                                                          | æä¾›åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œç”¨äºè¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚                   |
| `code\ultralytics\nn\modules\head.py`                                                           | å®šä¹‰ YOLO æ¨¡å‹çš„å¤´éƒ¨ç»“æ„ï¼Œå¤„ç†è¾“å‡ºå±‚ã€‚                 |
| `code\ultralytics\models\yolo\pose\__init__.py`                                                | åˆå§‹åŒ– YOLO å§¿æ€ä¼°è®¡æ¨¡å‹æ¨¡å—ã€‚                         |
| `code\ultralytics\data\split_dota.py`                                                           | å¤„ç† DOTA æ•°æ®é›†çš„åˆ†å‰²å’Œé¢„å¤„ç†ã€‚                       |
| `code\ultralytics\trackers\utils\matching.py`                                                   | æä¾›ç›®æ ‡åŒ¹é…ç®—æ³•ï¼Œæ”¯æŒå¤šç›®æ ‡è·Ÿè¸ªã€‚                     |
| `code\ultralytics\nn\__init__.py`                                                               | åˆå§‹åŒ–ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œæä¾›æ¨¡å‹æ„å»ºçš„åŸºç¡€ã€‚               |
| `code\ultralytics\models\yolo\detect\predict.py`                                                | å®ç° YOLO æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œè¿›è¡Œç›®æ ‡æ£€æµ‹ã€‚               |

è¿™ä¸ªè¡¨æ ¼æ€»ç»“äº†é¡¹ç›®ä¸­å„ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿäº†è§£æ¯ä¸ªæ¨¡å—çš„ä½œç”¨ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuTmJZv](https://mbd.pub/o/bread/ZpuTmJZv)